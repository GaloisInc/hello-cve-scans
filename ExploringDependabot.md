# Exploring Dependabot

In case this is useful, what follows is a relatively sketchy sequence
of steps that was used to understand Dependabot.md.

```
DependabotExplore.md 
- python hello world
- no .git/dependabot.yml
- turn on Dependabot alerts (in Security: Code security and analysis)
- results
  - found requirements.txt
  - no security updates
  - one dependabot alert (LOW):
    Certifi removes GLOBALTRUST root certificate
- added bad .git/dependabot.yml (wrong pip directory) and pushed
- results, in =Insights:Dependency graph=
  - in =Dependabot=:  there is a =pip= job: click and see the error.
  - in =Dependents= : list of dependents sticks around! *seems wrong!*
- pushed this
  : git co -m "adhoc/dependabot.yml and ..."
- results
  - in =Dependents= we now we have dependencies *(and constraints)*
    merged together from three places
    1. requirements.txt
      - odd, because this is not in =dependabot.yml=
    2. pyproject.toml (a constraint, ["requests>=2.28.1"]),
    3. adhoc/requirements.txt
 - why is it nabbing requirements.txt?  Try to stop it. Did
   : git mv requirements.txt oldequirements.txt
   -  changed dependabot.
 - results
   - unchanged https://github.com/mtullsen/testdependabot1/network/dependencies
     - *!!*
   - and when I export sbom, still get the stuff *the old*
     requirements.txt,
     but just get 7:
     - don't get the requests constraint, just the real version.
     - don't get the dups from requirements.txt
- let's unconfuse by adding 2 python pkgs that don't depend on each
  other, one to each of the "requirements" files.
  : colorama-0.4.6
  : pytz-2024.1
- aha, without touching the dependabot.yml, github finds colorama (in adhoc/requirements) and
  not pytz (in oldequirements.txt)
  - THUS, behavior is adding new but not deleting old dependencies!
    - to completely know this, vet all the 'transitive' pkg
      dependencies!
- now let's move the requirements.txt back
  : git mv requirements.txt oldequirements.txt
- results:
  - now =pytz= has been found
- NOTE ::
  - dependabot is now off
  - for pkg to be added to dependents, it NEED NOT BE in
    dependabot.yaml
- try
  - comment out =pytz=
- result
  - pytz *now* removed from the dependencies page.
- thus assumption from what I've seen
  - =/requirements.txt= always read.
  - dependencies page is updated on changes to =/requirements.txt=
    - also upon changes to directories in =dependabot.yml=.

Now, let's try to get some *security* alerts.
 - idna==3.4 appears to be, GHSA-jjg7-2v4v-x38h
 - yep, dependabot warning me, but see next, is this what a python
   build would really use??

Now (725e1e8b), adding more "old&vulnerable" pkgs to =./requirements.txt=
  - =Security:Dependabot= shows new "Dependabot alerts" for this change.
    - *FUNKY b/c this file not in dependabot.yml*
  - =Insights:Dependency graph:Dependabot=
    - unchanged [since .yml and files listed in have not changed]
    - still only shows results on adhoc/requirements.txt
Inferences
  - we have /automated dependency graph/ (ADG)
    - cannot turn off
    - doesn't depend on dependabot.yml
    - doesn't seem to drop old values consistently
    - *this* is what seems to drive the next.
  - =Security:Dependabot= uses results of ADG to generate all alerts
    as PRs
  - =Security:Dependabot=
    - Q. found adhoc/requirements.txt by search or by using  dependabot.yml?

  - =Insights:Dependency graph:Dependabot=
     - only uses dependabot.yml

```
